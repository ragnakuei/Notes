# 主視窗開啟子視窗後，子視窗拋資料至主視窗中

以下範例是 same origin 的情況 !

- 如果要 cross origin，可以先參考 [Cross-Origin-Opener-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy)


#### 主視窗

```html
<html lang="en">

<head>
    <meta charset="utf-8">
</head>

<body>
    <h3>W1</h3>
    <label id="tbxValue"></label>
    <button type="button" onclick="openW2()">Open W2</button>

    <script>
        window.w2 = null;
        function openW2() {
            const w2 = window.open("W02.html", "W02", "width=400, height=400");
        }

        // 用來接收變更的資料
        function setTbxValue(value) {
            document.getElementById("tbxValue").innerHTML = value;
        }
    </script>



</body>

</html>
```

#### 子視窗

```html
<html lang="en">

<head>
    <meta charset="utf-8">
</head>

<body>
    <h3>W2</h3>
    <form id="form">
        <input type="text" id="tbx" required />
        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById("form").onsubmit = submit;

        function submit() {
            alert('submit');
            window.opener.setTbxValue(document.getElementById("tbx").value);
            window.close();

            return false;
        }
    </script>

</body>

</html>
```