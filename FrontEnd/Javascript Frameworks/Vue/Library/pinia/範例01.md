# 範例 01

````html
<div id="app" v-cloak>
    <button @click="plus1">Plus1</button>
    <button @click="plus2">Plus2</button>
    <button @click="patch1">patch1</button>
    <button @click="patch2">patch2</button>
    <p>count: {{countStore.count}}</p>
    <p>doubleCount: {{countStore.doubleCount}}</p>
</div>

<script src="https://unpkg.com/vue@3.3.4/dist/vue.global.js"></script>
<script src="https://unpkg.com/vue-demi"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pinia/2.0.36/pinia.iife.js"></script>

<script>
    const { createApp, ref, reactive, onMounted, computed } = Vue;
    const { createPinia, storeToRefs, defineStore, mapState, mapActions } =
        Pinia;

    // select navbar store
    const useCounterStore = defineStore('countStore', {
        state: () => ({
            count: 0,
        }),
        getters: {
            doubleCount: (state) => state.count * 2,
        },
        actions: {
            increment() {
                this.count++;
            },
        },
    });

    const app = createApp({
        setup() {
            const countStore = useCounterStore();

            onMounted(() => {});

            function plus1() {
                countStore.increment();
            }
            function plus2() {
                countStore.count++;
            }
            function patch1() {
                countStore.$patch({ count: 10 });
            }
            function patch2() {
                countStore.$patch((state) => {
                    state.count = 20;
                });
            }
            countStore.$subscribe((mutation, state) => {
                console.log(mutation, state);
            });

            return {
                countStore,
                plus1,
                plus2,
                patch1,
                patch2,
            };
        },
    });

    const pinia = createPinia();
    app.use(pinia);
    app.mount('#app');
</script>
```
