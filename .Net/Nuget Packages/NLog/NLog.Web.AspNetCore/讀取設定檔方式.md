# 讀取設定檔方式

## [指定 nlog.config 路徑](https://github.com/NLog/NLog/wiki/Explicit-NLog-configuration-loading)

### .Net 6

過時的方式：

```cs
var processPath    = AppDomain.CurrentDomain.BaseDirectory;
var nlogConfigPath = Path.Combine(processPath, "3rd Party", "NLog", "nlog.config");
NLogBuilder.ConfigureNLog(nlogConfigPath);

var builder = WebApplication.CreateBuilder(args);
builder.Host.UseNLog();
```


方式 1：


```cs
var processPath    = AppDomain.CurrentDomain.BaseDirectory;
var nlogConfigPath = Path.Combine(processPath, "3rd Party", "NLog", "nlog.config");
NLog.LogManager.Configuration = new NLog.Config.XmlLoggingConfiguration(nlogConfigPath);

var builder = WebApplication.CreateBuilder(args);
builder.Host.UseNLog();
```

方式 2：

```cs
var processPath    = AppDomain.CurrentDomain.BaseDirectory;
var nlogConfigPath = Path.Combine(processPath, "3rd Party", "NLog", "nlog.config");
LogManager.Setup().LoadConfigurationFromFile(nlogConfigPath);

var builder = WebApplication.CreateBuilder(args);
builder.Host.UseNLog();
```

## [不指定路徑](https://github.com/NLog/NLog/wiki/Getting-started-with-ASP.NET-Core-6)

預設會讀取 `AppDomain.CurrentDomain.BaseDirectory` 下的 `nlog.config` 檔案

```cs
NLog.LogManager.Setup().LoadConfigurationFromAppSettings();

var builder = WebApplication.CreateBuilder(args);
builder.Host.UseNLog();
```