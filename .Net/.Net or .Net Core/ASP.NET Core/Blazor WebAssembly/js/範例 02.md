# 範例 01

- 未抓取回傳值

#### TestJsComponent

```cs
@implements IAsyncDisposable
@inject IJSRuntime _jsRuntime

@code {
    private IJSObjectReference _module;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            _module = await _jsRuntime.InvokeAsync<IJSObjectReference>("import", "/js/scripts.js");
        }
    }

    public async Task showAlertAsync(string message)
    {
        await _module.InvokeVoidAsync("showAlert", message);
    }
    
    public async Task<string> showPromptAsync(string message)
    {
        return await _module.InvokeAsync<string>("showPrompt", message);
    }

    public async ValueTask DisposeAsync()
    {
        if (_module is not null)
        {
            await _module.DisposeAsync();
        }
    }

}
```

#### scripts.js

- showPrompt() 可取回所輸入的值
- 因為只能呼叫所 export 的 function，所以可以將值放在 object 內，再 export 相關的 function !

```js
window.test = {
    showPrompt: function( message ) {
        return prompt( message, 'Type anything here' );
    },

    showAlert: function( message ) {
        alert( message );
    }
};

export function showPrompt( message ) {
    return window.test.showPrompt( message);
}

export function showAlert( message ) {
    return window.test.showAlert( message);
}
```

#### 呼叫端

```cs
@page "/TestError"

<TestJsComponent @ref="_testJsComponent" />

<button @onclick="showAlert">showAlert</button>
<button @onclick="showPrompt">showPrompt</button>
<div>
    Prompt: @_promptMessage
</div>

@code {
    private TestJsComponent? _testJsComponent;
    private string _promptMessage;
    
    private async Task showAlert()
    {
        await _testJsComponent.showAlertAsync("Test OK !");
    }
    
    private async Task showPrompt()
    {
        _promptMessage = await _testJsComponent.showPromptAsync("Test OK !");
    }
}
```