# 範例 02
- Blazor WebAssembly
- 呼叫 js function > 從 C# method 取得結果 > js return 結果 > C# 取得最終結果 !


##### index.html

加上 script 的全域引用

```html
<script src="js/JsFunctionService.js"></script>
```

##### JsFunctionService.js

- dotNetHelper 就是之後會傳入的 DotNetObjectReference\<T>
- 可以視為限縮 namespace 後，再呼叫 C# method，以避免呼叫錯誤 C# method !

```js
window.sayHello2 = ( dotNetHelper, name ) => {
    const result = dotNetHelper.invokeMethodAsync( 'GetHelloMessage', name );
    dotNetHelper.dispose();
    return result;
};
```

##### 呼叫端 component.razor

- 把 DotNetObjectReference\<T> 傳至 js function 中執行

```js
@page "/call-dotnet-example-3"
@implements IDisposable
@inject IJSRuntime JS

<h1>Call .NET Example 3</h1>

<p>
    <label>
        Name: <input @bind="name" />
    </label>
</p>

<p>
    <button @onclick="TriggerDotNetInstanceMethod">
        Trigger .NET instance method
    </button>
</p>

<p>
    @result
</p>

@code {
    private string? name;
    private string? result;
    private DotNetObjectReference<CallDotNetExample3>? objRef;

    public async Task TriggerDotNetInstanceMethod()
    {
        objRef = DotNetObjectReference.Create(this);
        result = await JS.InvokeAsync<string>("sayHello2", objRef, name);
    }

    [JSInvokable]
    public string GetHelloMessage(string passedName) => $"Hello, {passedName}!";

    public void Dispose()
    {
        objRef?.Dispose();
    }
}
```
