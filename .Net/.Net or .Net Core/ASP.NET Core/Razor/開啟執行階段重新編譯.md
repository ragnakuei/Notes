#  開啟執行階段重新編譯

[Enable runtime compilation in an existing project](https://docs.microsoft.com/zh-tw/aspnet/core/mvc/views/view-compilation)
[Razor file compilation in ASP.NET Core](https://docs.microsoft.com/zh-tw/aspnet/core/mvc/views/view-compilation)

注意：
> 如果在 Asp.Net Core Razor Page 使用這個功能後，在 partial view 裡面使用 @inject 就會報錯 !

1. 安裝套件

    ```
    Install-Package Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation
    ```

1. 套用至程式中，以下方式二選一

   1. 修改 Profile

        編輯 Properties > launchSettings.json

        在 `environmentVariables` 的項目內加上以下 Property

        ```csharp
        "ASPNETCORE_HOSTINGSTARTUPASSEMBLIES": "Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation"
        ```

   1. Startups.cs

        ```csharp
        public void ConfigureServices(IServiceCollection services)
        {
            services.AddControllersWithViews()
            
                    // 加上以下這行
                    .AddRazorRuntimeCompilation();
        }
        ```

1. 重新執行專案

