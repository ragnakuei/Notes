
待測效能

```csharp
private IEnumerable<IEnumerable<T>> Chunk<T>(IEnumerable<T> source, int chunksize = 99)
{
    if (source != null)
    {
        IEnumerable<T> sourceArray = source as T[] ?? source.ToArray();
        while (sourceArray.Any())
        {
            yield return sourceArray.Take(chunksize);
            sourceArray = sourceArray.Skip(chunksize).ToArray();
        }
    }
}
```

```csharp
public static List<List<T>> Page<T>(this IEnumerable<T> data, int pageSize)
{
    var pagedData = data.Select((v, i) => new { index = i, value = v })
                        .GroupBy(d => d.index / pageSize)
                        .Select(g => g.Select(d => d.value).ToList())
                        .ToList();
    return pagedData;
}
```